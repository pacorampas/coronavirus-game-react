(this["webpackJsonpcoronavirus-game-react"]=this["webpackJsonpcoronavirus-game-react"]||[]).push([[0],{171:function(e,t,a){e.exports=a(361)},176:function(e,t,a){},177:function(e,t,a){e.exports={chartWrapper:"Home_chartWrapper__1VYsj"}},18:function(e,t,a){e.exports={wrapper:"ModalGameOver_wrapper__3O8rr",title:"ModalGameOver_title__1yMxF",text:"ModalGameOver_text__1zGXq",points:"ModalGameOver_points__1mH6S",buttons:"ModalGameOver_buttons__38fgF",button:"ModalGameOver_button__2CpMe"}},360:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(49),o=a.n(c),i=(a(176),a(8)),s=a(52),l=a(4),m=a.n(l),u=a(78),d=a.n(u);var f=r.a.memo((function(e){var t=e.children,a=e.className,n=e.variant,c=Object(s.a)(e,["children","className","variant"]);return(r.a.createElement("button",Object.assign({className:m()(a,d.a.button,d.a[n])},c),t))}));a(177);var v=r.a.memo((function(e){var t=e.setScreenActive;return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement(f,{onClick:function(){t(q.game)}},"PLAY"))})),_=1,p=2,b=3,g=4,h=5,E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=E;var O=function(e){var t=e.onStateChange,a=e.state,r=e.metadata,c=e.styles,o=e.classPrefix,s=Object(n.useRef)(),l=Object(n.useState)(a||_),m=Object(i.a)(l,2),u=m[0],d=m[1];Object(n.useEffect)((function(){d(a||_)}),[a]);var f=Object(n.useCallback)((function(e){return E((function(){return function(e){if(s.current===e.target){var a=function(e){return p===e?(d(b),b):g===e?(d(h),h):void 0}(u);t&&t({event:e,state:a,metadata:r})}}(e)}))}),[u,t,r]);Object(n.useEffect)((function(){s.current.addEventListener("animationend",f);var e=s.current;return function(){return e.removeEventListener("animationend",f)}}),[s,f]);var v=Object(n.useCallback)((function(){return c&&w({state:a,styles:c,classPrefix:o})}),[a,c,o])();return[s,v,u]},w=function(e){var t=e.state,a=e.styles,n=e.classPrefix;if(a){var r=n;switch(r||(r="spark-animation"),t){case _:return a["".concat(r,"--waiting-to-enter")];case p:return a["".concat(r,"--entering")];case b:return a["".concat(r,"--entered")];case g:return a["".concat(r,"--leaving")];case h:return a["".concat(r,"--left")];default:return r}}else console.error("[mapStateWithClassCSSModule] you should pass an css module styles object")},j=a(132),S=a.n(j),C=a(79),M=a.n(C);var N=r.a.memo((function(e){var t=e.className,a=e.state,c=e.onStateChange,o=e.children,s=O({state:a,styles:M.a,classPrefix:"modal"}),l=Object(i.a)(s,3),u=l[0],d=l[1],f=l[2];return Object(n.useEffect)((function(){c&&c(f)}),[f,c]),r.a.createElement("div",{ref:u,className:m()(t,M.a.modal,d)},o)})),A=a(18),y=a.n(A);var x=r.a.memo((function(e){var t=e.state,a=e.points,n=e.onAccept,c=e.onCancel,o=Object(s.a)(e,["state","points","onAccept","onCancel"]);return r.a.createElement(N,Object.assign({state:t},o),r.a.createElement("div",{className:y.a.wrapper},r.a.createElement("h1",{className:y.a.title},"\xa1SE ACAB\xd3!"),r.a.createElement("p",{className:y.a.text},"Tu puntuaci\xf3n"),r.a.createElement("p",{className:y.a.points},r.a.createElement(S.a,{end:a,delay:2,duration:5})," pts"),r.a.createElement("div",{className:y.a.buttons},r.a.createElement(f,{className:y.a.button,onClick:function(){n&&n()}},"REINTENTAR"),r.a.createElement(f,{className:y.a.button,variant:"negative",onClick:function(){c&&c()}},"SALIR"))))})),G=a(32);r.a.memo((function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){globalCollectData.onChangeData((function(e){var t=function(e){var t=[];return Object.values(e).forEach((function(e){var a=t.length-1;a>-1&&t[a].gameTime===e.gameTime?(t.pop(),t.push(e)):t.push(e)})),t}(e);c(t)}))}),[]),r.a.createElement(G.c,null,r.a.createElement(G.b,{height:250,data:a},r.a.createElement(G.d,{name:"time",dataKey:"gameTime",type:"number",domain:[0,40],allowDecimals:!1}),r.a.createElement(G.e,{domain:[0,40]}),r.a.createElement(G.a,{type:"monotone",dataKey:"infected",stackId:"1",stroke:"#8884d8",fill:"#8884d8",isAnimationActive:!1})))}));var k=a(54),F=a.n(k),R={width:1e3,height:600};var W=r.a.memo((function(e){var t=e.setScreenActive,a=Object(n.useRef)(),c=Object(n.useState)(),o=Object(i.a)(c,2),s=o[0],l=o[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],f=u[1],v=Object(n.useState)(0),_=Object(i.a)(v,2),b=_[0],E=_[1],O=function(){l(g)};return Object(n.useEffect)((function(){return a.current=initGame("coronavirusGame",40,0,!1,!0,(function(e){var t=e.time;E(7.683*t),l(p)}),R),function(){a.current.destroy()}}),[]),r.a.createElement("div",{className:F.a.game},r.a.createElement("div",{className:F.a.wrapper},r.a.createElement("div",{id:"coronavirusGame"}),r.a.createElement(x,{className:F.a.modal,state:s,points:b,onAccept:function(){a.current.scene.getScenes(!0)[0].scene.restart(),O()},onCancel:function(){O(),f(!0)},onStateChange:function(e){if(d)switch(e){case h:return void t(q.home)}}})))})),q=(a(360),{home:1,game:2});var D=r.a.memo((function(){var e=Object(n.useState)(q.home),t=Object(i.a)(e,2),a=t[0],c={setScreenActive:t[1]};switch(a){case q.home:return r.a.createElement(v,c);case q.game:return r.a.createElement(W,c);default:return r.a.createElement(v,c)}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,a){e.exports={game:"Game_game__1oenb",wrapper:"Game_wrapper__2JG6h",modal:"Game_modal__3yiNf",chartWrapper:"Game_chartWrapper__2xDFN"}},78:function(e,t,a){e.exports={button:"Button_button__2cZ5P",negative:"Button_negative__nytKD"}},79:function(e,t,a){e.exports={modal:"Modal_modal__2J34Z","modal--waiting-to-enter":"Modal_modal--waiting-to-enter__3CFSj",enter:"Modal_enter__12j6C","modal--entering":"Modal_modal--entering__3hm3E",entering:"Modal_entering__tp7ZH","modal--entered":"Modal_modal--entered__1ii0l","modal--leaving":"Modal_modal--leaving__1uQDl",leaving:"Modal_leaving__VWOLZ","modal--left":"Modal_modal--left__2nfQf"}}},[[171,1,2]]]);
//# sourceMappingURL=main.d8d55513.chunk.js.map